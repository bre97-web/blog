import{n as y}from"./router.1CaIavWq.js";import{a as B}from"./index.BSdFiPHn.js";import{_,u as C}from"./_plugin-vue_export-helper.ByxbE-qS.js";import{d as m,o as r,c as u,a as d,F as h,h as S,t as f,f as g,i as k,j as b,n as v,k as P,r as x,w as I}from"./runtime-core.esm-bundler.Bi1hDMcB.js";class a{static inputValue=B("");static findPostByBody(t,n){return n.filter(e=>e.body.includes(t))}static findPostByFileName(t,n){return n.filter(e=>e.id.includes(t))}static findPostByCollectionName(t,n){return n.filter(e=>e.data.collection.includes(t))}static findPostByTitle(t,n){return n.filter(e=>e.data.title.includes(t))}static findPostByDescription(t,n){return n.filter(e=>e.data.description.includes(t))}}const $=m({__name:"search-input",setup(i,{expose:t}){t();const e={onSearchInput:o=>{const l=o.target.value;a.inputValue.set(l)}};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),V={class:"search-input"};function N(i,t,n,e,o,l){return r(),u("div",V,[t[0]||(t[0]=d("md-icon",{class:"search-icon"},"search",-1)),d("input",{class:"search-input text-body-medium",placeholder:"Type here to search",onInput:e.onSearchInput},null,32),t[1]||(t[1]=d("md-elevation",null,null,-1))])}const O=_($,[["render",N],["__scopeId","data-v-d7ea2d31"]]),j=m({__name:"search-result",props:{collection:{}},emits:["blogClick"],setup(i,{expose:t,emit:n}){t();const e=i,o=n,c={props:e,emits:o,onBlogClick:p=>{o("blogClick",p)}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),F={class:"result-list"},w=["onClick"],D={class:"title text-title-medium line-clamp-1"},T={class:"description text-body-medium line-clamp-2"};function R(i,t,n,e,o,l){return r(),u("ul",F,[(r(!0),u(h,null,S(e.props.collection,c=>(r(),u("li",{class:"blog",onClick:()=>e.onBlogClick(c)},[d("h1",D,f(c.data.title),1),d("p",T,f(c.data.description),1),t[0]||(t[0]=d("md-ripple",null,null,-1))],8,w))),256))])}const U=_(j,[["render",R],["__scopeId","data-v-7a297370"]]),z=m({__name:"search-collection",props:{collection:{},baseUrl:{}},setup(i,{expose:t}){t();const n=i,e=P(()=>o.value.length!==0&&l.value!==null),o=C(a.inputValue),l=x(null);I(()=>o.value,s=>{s!==""||s.length!==0||s!==null?l.value=[...new Set([...a.findPostByBody(s,n.collection),...a.findPostByFileName(s,n.collection),...a.findPostByCollectionName(s,n.collection),...a.findPostByTitle(s,n.collection),...a.findPostByDescription(s,n.collection)]).values()]:l.value=null});const p={props:n,searchCollectionOpen:e,inputValueStore:o,res:l,onBlogClick:s=>{y(`${n.baseUrl}${s.slug}/`)},SearchInput:O,SearchResult:U};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),E={key:1};function L(i,t,n,e,o,l){return r(),u("div",{class:v(["search-collection",{open:e.searchCollectionOpen}])},[g(e.SearchInput),e.inputValueStore.length!==0?(r(),u(h,{key:0},[e.res!==null&&e.res.length!==0?(r(),k(e.SearchResult,{key:0,collection:e.res,onBlogClick:t[0]||(t[0]=c=>e.onBlogClick(c))},null,8,["collection"])):(r(),u("div",E,t[1]||(t[1]=[d("p",null,"Could not found blog.",-1)])))],64)):b("",!0)],2)}const J=_(z,[["render",L],["__scopeId","data-v-45263191"]]);export{J as default};
