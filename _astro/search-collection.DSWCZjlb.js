import{n as C}from"./router.7tVD49SL.js";import{a as g}from"./index.BSdFiPHn.js";import{_,u as k}from"./_plugin-vue_export-helper.CuEUkOQO.js";import{d as h,o as a,c as d,a as u,p as m,h as f,F as y,i as v,t as S,f as $,j as I,k as b,n as P,l as x,r as V,w as N}from"./runtime-core.esm-bundler.FKCavd2i.js";class r{static inputValue=g("");static findPostByBody(n,t){return t.filter(e=>e.body.includes(n))}static findPostByFileName(n,t){return t.filter(e=>e.id.includes(n))}static findPostByCollectionName(n,t){return t.filter(e=>e.data.collection.includes(n))}static findPostByTitle(n,t){return t.filter(e=>e.data.title.includes(n))}static findPostByDescription(n,t){return t.filter(e=>e.data.description.includes(n))}}const w=h({__name:"search-input",setup(o,{expose:n}){n();const e={onSearchInput:s=>{const c=s.target.value;r.inputValue.set(c)}};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),B=o=>(m("data-v-d7ea2d31"),o=o(),f(),o),O={class:"search-input"},j=B(()=>u("md-icon",{class:"search-icon"},"search",-1)),F=B(()=>u("md-elevation",null,null,-1));function D(o,n,t,e,s,c){return a(),d("div",O,[j,u("input",{class:"search-input text-body-medium",placeholder:"Type here to search",onInput:e.onSearchInput},null,32),F])}const T=_(w,[["render",D],["__scopeId","data-v-d7ea2d31"]]),R=h({__name:"search-result",props:{collection:{}},emits:["blogClick"],setup(o,{expose:n,emit:t}){n();const e=o,s=t,i={props:e,emits:s,onBlogClick:p=>{s("blogClick",p)}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),U=o=>(m("data-v-7a297370"),o=o(),f(),o),z={class:"result-list"},E=["onClick"],L={class:"title text-title-medium line-clamp-1"},q={class:"description text-body-medium line-clamp-2"},A=U(()=>u("md-ripple",null,null,-1));function G(o,n,t,e,s,c){return a(),d("ul",z,[(a(!0),d(y,null,v(e.props.collection,i=>(a(),d("li",{class:"blog",onClick:()=>e.onBlogClick(i)},[u("h1",L,S(i.data.title),1),u("p",q,S(i.data.description),1),A],8,E))),256))])}const H=_(R,[["render",G],["__scopeId","data-v-7a297370"]]),J=h({__name:"search-collection",props:{collection:{},baseUrl:{}},setup(o,{expose:n}){n();const t=o,e=x(()=>s.value.length!==0&&c.value!==null),s=k(r.inputValue),c=V(null);N(()=>s.value,l=>{l!==""||l.length!==0||l!==null?c.value=[...new Set([...r.findPostByBody(l,t.collection),...r.findPostByFileName(l,t.collection),...r.findPostByCollectionName(l,t.collection),...r.findPostByTitle(l,t.collection),...r.findPostByDescription(l,t.collection)]).values()]:c.value=null});const p={props:t,searchCollectionOpen:e,inputValueStore:s,res:c,onBlogClick:l=>{C(`${t.baseUrl}${l.slug}/`)},SearchInput:T,SearchResult:H};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),K=o=>(m("data-v-45263191"),o=o(),f(),o),M={key:1},Q=K(()=>u("p",null,"Could not found blog.",-1)),W=[Q];function X(o,n,t,e,s,c){return a(),d("div",{class:P(["search-collection",{open:e.searchCollectionOpen}])},[$(e.SearchInput),e.inputValueStore.length!==0?(a(),d(y,{key:0},[e.res!==null&&e.res.length!==0?(a(),I(e.SearchResult,{key:0,collection:e.res,onBlogClick:n[0]||(n[0]=i=>e.onBlogClick(i))},null,8,["collection"])):(a(),d("div",M,W))],64)):b("",!0)],2)}const oe=_(J,[["render",X],["__scopeId","data-v-45263191"]]);export{oe as default};
