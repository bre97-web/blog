import{n as v}from"./router.7tVD49SL.js";import{a as g}from"./index.BSdFiPHn.js";import{_ as p,u as P}from"./_plugin-vue_export-helper.CuEUkOQO.js";import{d as _,o as a,c as d,a as u,p as f,h,F as C,i as $,t as y,f as I,j as b,k as x,n as w,r as B,l as N,w as R}from"./runtime-core.esm-bundler.FKCavd2i.js";class r{static inputValue=g("");static findPostByBody(s,t){return t.filter(e=>e.body.includes(s))}static findPostByFileName(s,t){return t.filter(e=>e.id.includes(s))}static findPostByCollectionName(s,t){return t.filter(e=>e.data.collection.includes(s))}static findPostByTitle(s,t){return t.filter(e=>e.data.title.includes(s))}static findPostByDescription(s,t){return t.filter(e=>e.data.description.includes(s))}}const V=_({__name:"search-input",setup(o,{expose:s}){s();const e={onSearchInput:c=>{const n=c.target.value;r.inputValue.set(n)}};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),k=o=>(f("data-v-d7ea2d31"),o=o(),h(),o),j={class:"search-input"},F=k(()=>u("md-icon",{class:"search-icon"},"search",-1)),D=k(()=>u("md-elevation",null,null,-1));function O(o,s,t,e,c,n){return a(),d("div",j,[F,u("input",{class:"search-input text-body-medium",placeholder:"Type here to search",onInput:e.onSearchInput},null,32),D])}const T=p(V,[["render",O],["__scopeId","data-v-d7ea2d31"]]),U=_({__name:"search-result",props:{collection:{}},emits:["blogClick"],setup(o,{expose:s,emit:t}){s();const e=o,c=t,l={props:e,emits:c,onBlogClick:m=>{c("blogClick",m)}};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),z=o=>(f("data-v-2ef3e496"),o=o(),h(),o),E={class:"result-list"},L=["onClick"],q={class:"title text-title-medium line-clamp-1"},A={class:"description text-body-medium line-clamp-2"},G=z(()=>u("md-ripple",null,null,-1));function H(o,s,t,e,c,n){return a(),d("ul",E,[(a(!0),d(C,null,$(e.props.collection,l=>(a(),d("li",{class:"blog",onClick:()=>e.onBlogClick(l)},[u("h1",q,y(l.data.title),1),u("p",A,y(l.data.description),1),G],8,L))),256))])}const J=p(U,[["render",H],["__scopeId","data-v-2ef3e496"]]),K=_({__name:"search-collection",props:{collection:{},baseUrl:{}},setup(o,{expose:s}){s();const t=o,e=B(!1),c=P(r.inputValue),n=B(null),l=N(()=>n.value!==null&&n.value.length!==0);R(()=>c.value,i=>{i!==""||i.length!==0||i!==null?(n.value=[...new Set([...r.findPostByBody(i,t.collection),...r.findPostByFileName(i,t.collection),...r.findPostByCollectionName(i,t.collection),...r.findPostByTitle(i,t.collection),...r.findPostByDescription(i,t.collection)]).values()],e.value=!0):n.value=null});const S={props:t,showResultPanel:e,inputValueStore:c,res:n,hasResult:l,onBlogClick:i=>{v(`${t.baseUrl}${i.slug}/`)},SearchInput:T,SearchResult:J};return Object.defineProperty(S,"__isScriptSetup",{enumerable:!1,value:!0}),S}}),M=o=>(f("data-v-2f77fc3f"),o=o(),h(),o),Q={key:1},W=M(()=>u("p",null,"Could not found blog.",-1)),X=[W];function Y(o,s,t,e,c,n){return a(),d("div",{class:w(["search-collection",{open:e.showResultPanel}])},[I(e.SearchInput),e.showResultPanel?(a(),d(C,{key:0},[e.hasResult?(a(),b(e.SearchResult,{key:0,collection:e.res,onBlogClick:s[0]||(s[0]=l=>e.onBlogClick(l))},null,8,["collection"])):(a(),d("div",Q,X))],64)):x("",!0)],2)}const se=p(K,[["render",Y],["__scopeId","data-v-2f77fc3f"]]);export{se as default};
